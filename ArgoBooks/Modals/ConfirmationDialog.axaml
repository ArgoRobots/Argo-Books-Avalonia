<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:ArgoBooks.ViewModels"
             xmlns:controls="using:ArgoBooks.Controls"
             mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="200"
             x:Class="ArgoBooks.Modals.ConfirmationDialog"
             x:DataType="vm:ConfirmationDialogViewModel"
             IsVisible="{Binding IsOpen}">

    <Design.DataContext>
        <vm:ConfirmationDialogViewModel />
    </Design.DataContext>

    <Panel>
        <controls:ModalOverlay IsOpen="{Binding IsOpen}"
                               ClosingCommand="{Binding CancelActionCommand}">
            <controls:ModalOverlay.ModalContent>
                <!-- Modal Content -->
                <Border Background="{DynamicResource SurfaceBrush}"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="1"
                CornerRadius="12"
                Width="400"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                BoxShadow="0 8 32 0 #40000000">

            <Grid RowDefinitions="Auto,*,Auto">
                <!-- Header -->
                <Border Grid.Row="0"
                        Padding="24,20"
                        BorderBrush="{DynamicResource BorderBrush}"
                        BorderThickness="0,0,0,1">
                    <TextBlock Text="{Binding Title}"
                               FontSize="18"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextPrimaryBrush}" />
                </Border>

                <!-- Body -->
                <Border Grid.Row="1" Padding="24,20">
                    <TextBlock Text="{Binding Message}"
                               FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               TextWrapping="Wrap" />
                </Border>

                <!-- Footer -->
                <Border Grid.Row="2"
                        Padding="24,16"
                        BorderBrush="{DynamicResource BorderBrush}"
                        BorderThickness="0,1,0,0">
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Right"
                                Spacing="12">
                        <!-- Cancel Button -->
                        <Button Classes="secondary-button"
                                Content="{Binding CancelButtonText}"
                                Command="{Binding CancelActionCommand}"
                                IsVisible="{Binding ShowCancelButton}" />

                        <!-- Secondary Button -->
                        <Button Classes.secondary-button="{Binding !IsSecondaryDestructive}"
                                Classes.danger-button="{Binding IsSecondaryDestructive}"
                                Content="{Binding SecondaryButtonText}"
                                Command="{Binding SecondaryActionCommand}"
                                IsVisible="{Binding ShowSecondaryButton}" />

                        <!-- Primary Button -->
                        <Button Classes.primary-button="{Binding !IsPrimaryDestructive}"
                                Classes.danger-button="{Binding IsPrimaryDestructive}"
                                Content="{Binding PrimaryButtonText}"
                                Command="{Binding PrimaryActionCommand}"
                                IsVisible="{Binding ShowPrimaryButton}" />
                    </StackPanel>
                </Border>
            </Grid>
                </Border>
            </controls:ModalOverlay.ModalContent>
        </controls:ModalOverlay>
    </Panel>
</UserControl>
