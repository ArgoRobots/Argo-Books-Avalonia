<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:controls="using:ArgoBooks.Controls"
             xmlns:helpers="using:ArgoBooks.Helpers"
             xmlns:loc="using:ArgoBooks.Localization"
             mc:Ignorable="d" d:DesignWidth="500" d:DesignHeight="40"
             x:Class="ArgoBooks.Controls.InfoBanner"
             x:DataType="controls:InfoBanner">

    <Border Classes="popup-banner"
            Background="{Binding BannerBackground, RelativeSource={RelativeSource AncestorType=controls:InfoBanner}}"
            helpers:BannerAnimationBehavior.IsEnabled="True"
            helpers:BannerAnimationBehavior.IsVisible="{Binding ShowBanner, RelativeSource={RelativeSource AncestorType=controls:InfoBanner}}"
            HorizontalAlignment="Center"
            VerticalAlignment="Top"
            Margin="0,10,0,0"
            CornerRadius="6"
            Padding="12,8">
        <Grid ColumnDefinitions="Auto,Auto,Auto,Auto">
            <!-- Icon -->
            <PathIcon Grid.Column="0"
                      Data="{Binding IconData, RelativeSource={RelativeSource AncestorType=controls:InfoBanner}}"
                      IsVisible="{Binding IconData, RelativeSource={RelativeSource AncestorType=controls:InfoBanner}, Converter={x:Static ObjectConverters.IsNotNull}}"
                      Width="16" Height="16"
                      Foreground="White"
                      VerticalAlignment="Center"
                      Margin="0,0,10,0" />

            <!-- Message -->
            <TextBlock Grid.Column="1"
                       Text="{Binding Message, RelativeSource={RelativeSource AncestorType=controls:InfoBanner}}"
                       Foreground="White"
                       FontWeight="Medium"
                       FontSize="13"
                       VerticalAlignment="Center" />

            <!-- Action Link -->
            <Button Grid.Column="2"
                    Command="{Binding ActionCommand, RelativeSource={RelativeSource AncestorType=controls:InfoBanner}}"
                    IsVisible="{Binding ActionText, RelativeSource={RelativeSource AncestorType=controls:InfoBanner}, Converter={x:Static ObjectConverters.IsNotNull}}"
                    Background="Transparent"
                    BorderThickness="0"
                    Padding="4,0"
                    Margin="4,0,0,0"
                    Cursor="Hand"
                    VerticalAlignment="Center">
                <TextBlock Text="{Binding ActionText, RelativeSource={RelativeSource AncestorType=controls:InfoBanner}}"
                           Foreground="White"
                           FontWeight="Bold"
                           FontSize="13"
                           TextDecorations="Underline" />
            </Button>

            <!-- Dismiss Button -->
            <Button Grid.Column="3"
                    Command="{Binding DismissCommand, RelativeSource={RelativeSource AncestorType=controls:InfoBanner}}"
                    ToolTip.Tip="{loc:Loc 'Dismiss'}"
                    Background="{Binding DismissBackground, RelativeSource={RelativeSource AncestorType=controls:InfoBanner}}"
                    BorderThickness="0"
                    CornerRadius="4"
                    Padding="4"
                    Margin="10,0,0,0"
                    VerticalAlignment="Center">
                <PathIcon Data="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
                          Width="12" Height="12"
                          Foreground="White" />
            </Button>
        </Grid>
    </Border>
</UserControl>
